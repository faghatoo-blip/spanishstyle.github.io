<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ - ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§ÛŒÙ†ØªØ±Ù†ØªÛŒ Ù„Ø¨Ø§Ø³</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-red: #C41E3A;
            --primary-gold: #FFD700;
            --primary-black: #1a1a1a;
            --white: #FFFFFF;
            --cream: #FFF8DC;
            --accent-orange: #E07A5F;
            --dark-red: #8B0000;
            --light-gray: #f5f5f5;
            --border-gray: #e0e0e0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            direction: rtl;
            text-align: right;
            background-color: var(--white);
            color: var(--primary-black);
            line-height: 1.6;
        }

        /* Top Banner */
        .top-banner {
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            color: var(--white);
            text-align: center;
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 500;
        }

        /* Header */
        .header {
            background-color: var(--white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-red);
            text-decoration: none;
        }

        .logo-icon {
            font-size: 36px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 35px;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--primary-black);
            font-weight: 500;
            font-size: 15px;
            transition: color 0.3s;
            position: relative;
        }

        .nav-menu a:hover {
            color: var(--primary-red);
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            right: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary-red);
            transition: width 0.3s;
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        .header-actions {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .search-bar {
            display: flex;
            align-items: center;
            background-color: var(--light-gray);
            padding: 10px 15px;
            border-radius: 25px;
            width: 250px;
        }

        .search-bar input {
            border: none;
            background: transparent;
            outline: none;
            width: 100%;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 14px;
            text-align: right;
        }

        .icon-btn {
            background: none;
            border: none;
            font-size: 22px;
            cursor: pointer;
            color: var(--primary-black);
            position: relative;
            transition: color 0.3s;
        }

        .icon-btn:hover {
            color: var(--primary-red);
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            left: -8px;
            background-color: var(--primary-red);
            color: var(--white);
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 11px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: var(--primary-black);
        }

        /* Hero Section */
        .hero {
            position: relative;
            height: 600px;
            background: linear-gradient(135deg, var(--primary-red) 0%, var(--dark-red) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: var(--white);
            max-width: 800px;
            padding: 40px;
        }

        .hero-title {
            font-size: 56px;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 24px;
            font-weight: 400;
            margin-bottom: 35px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .btn-primary {
            background-color: var(--primary-gold);
            color: var(--primary-black);
            padding: 15px 45px;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary:hover {
            background-color: var(--white);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
        }

        /* About Section */
        .about-section {
            padding: 80px 0;
            background-color: var(--cream);
        }

        .section-title {
            text-align: center;
            font-size: 38px;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 20px;
        }

        .section-subtitle {
            text-align: center;
            font-size: 18px;
            color: #666;
            margin-bottom: 50px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        /* Categories Section */
        .categories-section {
            padding: 80px 0;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .category-card {
            position: relative;
            height: 400px;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.7) 100%);
            z-index: 1;
        }

        .category-bg {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .category-content {
            position: absolute;
            bottom: 0;
            right: 0;
            left: 0;
            padding: 30px;
            color: var(--white);
            z-index: 2;
        }

        .category-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .category-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .category-description {
            font-size: 15px;
            opacity: 0.9;
        }

        /* Products Section */
        .products-section {
            padding: 80px 0;
            background-color: var(--light-gray);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .product-card {
            background-color: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 320px;
            position: relative;
            overflow: hidden;
        }

        .product-img-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
            color: var(--white);
            font-weight: 700;
        }

        .product-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--primary-red);
            color: var(--white);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .product-info {
            padding: 20px;
        }

        .product-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary-black);
        }

        .product-name-en {
            font-size: 13px;
            color: #999;
            margin-bottom: 12px;
        }

        .product-price {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 15px;
        }

        .product-price span {
            font-size: 14px;
            font-weight: 500;
        }

        .btn-add-cart {
            width: 100%;
            background-color: var(--primary-black);
            color: var(--white);
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
        }

        .btn-add-cart:hover {
            background-color: var(--primary-red);
        }

        /* Features Section */
        .features-section {
            padding: 80px 0;
            background-color: var(--white);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }

        .feature-box {
            text-align: center;
            padding: 30px 20px;
            border-radius: 15px;
            background-color: var(--cream);
            transition: all 0.3s;
        }

        .feature-box:hover {
            background-color: var(--primary-red);
            color: var(--white);
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 56px;
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .feature-description {
            font-size: 15px;
            opacity: 0.9;
        }

        /* Collections Section */
        .collections-section {
            padding: 80px 0;
            background: linear-gradient(135deg, var(--cream) 0%, var(--white) 100%);
        }

        .collections-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .collection-card {
            position: relative;
            height: 350px;
            border-radius: 15px;
            overflow: hidden;
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .collection-card:hover {
            transform: scale(1.05);
        }

        .collection-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.3);
            z-index: 1;
        }

        .collection-title {
            position: relative;
            z-index: 2;
            font-size: 32px;
            font-weight: 700;
            color: var(--white);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        /* Newsletter Section */
        .newsletter-section {
            padding: 60px 0;
            background-color: var(--primary-black);
            color: var(--white);
        }

        .newsletter-content {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .newsletter-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .newsletter-description {
            font-size: 16px;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .newsletter-form {
            display: flex;
            gap: 10px;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            border-radius: 30px;
            font-size: 15px;
            font-family: 'Vazirmatn', sans-serif;
            text-align: right;
        }

        .btn-newsletter {
            background-color: var(--primary-gold);
            color: var(--primary-black);
            border: none;
            padding: 15px 35px;
            border-radius: 30px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
        }

        .btn-newsletter:hover {
            background-color: var(--white);
        }

        /* Footer */
        .footer {
            background-color: #2a2a2a;
            color: var(--white);
            padding: 60px 0 30px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--primary-gold);
        }

        .footer-column p,
        .footer-column ul {
            font-size: 15px;
            line-height: 1.8;
            opacity: 0.9;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column a {
            color: var(--white);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column a:hover {
            color: var(--primary-gold);
        }

        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .social-icon:hover {
            background-color: var(--primary-gold);
            color: var(--primary-black);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 14px;
            opacity: 0.8;
        }

        .admin-link {
            margin-top: 15px;
            font-size: 13px;
        }

        .admin-link a {
            color: var(--primary-gold);
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .admin-link a:hover {
            opacity: 0.8;
        }

        /* Page Container */
        .page-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--white);
            z-index: 10000;
            overflow-y: auto;
        }

        .page-container.active {
            display: block;
        }

        /* Auth Pages */
        .auth-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--cream) 0%, var(--white) 100%);
            padding: 40px 20px;
        }

        .auth-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            max-width: 1000px;
            width: 100%;
            background: var(--white);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .auth-brand {
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            padding: 60px 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--white);
            text-align: center;
        }

        .auth-brand-logo {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .auth-brand-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .auth-brand-subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        .auth-form-container {
            padding: 60px 40px;
        }

        .auth-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 10px;
        }

        .auth-subtitle {
            font-size: 15px;
            color: #666;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--primary-black);
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-gray);
            border-radius: 8px;
            font-size: 15px;
            font-family: 'Vazirmatn', sans-serif;
            transition: all 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 0 3px rgba(196, 30, 58, 0.1);
        }

        .form-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        .form-checkbox input {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .form-checkbox label {
            font-size: 14px;
            color: #666;
            cursor: pointer;
        }

        .btn-auth {
            width: 100%;
            background-color: var(--primary-red);
            color: var(--white);
            border: none;
            padding: 14px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
        }

        .btn-auth:hover {
            background-color: var(--dark-red);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(196, 30, 58, 0.3);
        }

        .auth-links {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
        }

        .auth-links a {
            color: var(--primary-red);
            text-decoration: none;
            font-weight: 600;
        }

        .auth-links a:hover {
            text-decoration: underline;
        }

        .error-message {
            background-color: #fee;
            color: var(--dark-red);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .success-message {
            background-color: #efe;
            color: #0a0;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .password-strength {
            height: 4px;
            background-color: var(--light-gray);
            border-radius: 2px;
            margin-top: 8px;
            overflow: hidden;
        }

        .password-strength-bar {
            height: 100%;
            width: 0;
            transition: all 0.3s;
        }

        .strength-weak { background-color: #f00; width: 33%; }
        .strength-medium { background-color: #fa0; width: 66%; }
        .strength-strong { background-color: #0a0; width: 100%; }

        /* Dashboard */
        .dashboard {
            min-height: 100vh;
            background-color: var(--light-gray);
        }

        .dashboard-header {
            background-color: var(--white);
            padding: 20px 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dashboard-welcome {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary-red);
        }

        .dashboard-actions {
            display: flex;
            gap: 15px;
        }

        .btn-dashboard {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
        }

        .btn-back {
            background-color: var(--light-gray);
            color: var(--primary-black);
        }

        .btn-back:hover {
            background-color: var(--border-gray);
        }

        .btn-logout {
            background-color: var(--primary-red);
            color: var(--white);
        }

        .btn-logout:hover {
            background-color: var(--dark-red);
        }

        .dashboard-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px;
        }

        .dashboard-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            background-color: var(--white);
            border: 1px solid var(--border-gray);
            border-radius: 8px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
        }

        .tab-btn.active {
            background-color: var(--primary-red);
            color: var(--white);
            border-color: var(--primary-red);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .info-card {
            background-color: var(--white);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }

        .info-card h3 {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 20px;
        }

        .info-row {
            display: flex;
            padding: 15px 0;
            border-bottom: 1px solid var(--light-gray);
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 600;
            color: var(--primary-black);
            min-width: 150px;
        }

        .info-value {
            color: #666;
        }

        .table-container {
            background-color: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background-color: var(--primary-red);
            color: var(--white);
            padding: 15px;
            text-align: right;
            font-weight: 600;
            font-size: 14px;
        }

        .data-table td {
            padding: 15px;
            border-bottom: 1px solid var(--light-gray);
            font-size: 14px;
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        .data-table tr:hover {
            background-color: var(--cream);
        }

        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-delivered {
            background-color: #e8f5e9;
            color: #2e7d32;
        }

        .status-shipped {
            background-color: #e3f2fd;
            color: #1565c0;
        }

        .status-processing {
            background-color: #fff3e0;
            color: #e65100;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: var(--white);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.05);
            text-align: center;
        }

        .stat-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
        }

        .btn-action {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Vazirmatn', sans-serif;
            margin-left: 5px;
        }

        .btn-edit {
            background-color: #2196f3;
            color: var(--white);
        }

        .btn-edit:hover {
            background-color: #1976d2;
        }

        .btn-delete {
            background-color: #f44336;
            color: var(--white);
        }

        .btn-delete:hover {
            background-color: #d32f2f;
        }

        .btn-view {
            background-color: #4caf50;
            color: var(--white);
        }

        .btn-view:hover {
            background-color: #388e3c;
        }

        .user-dropdown {
            position: relative;
            display: inline-block;
        }

        .user-btn {
            background: none;
            border: none;
            font-size: 22px;
            cursor: pointer;
            color: var(--primary-black);
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background-color 0.3s;
        }

        .user-btn:hover {
            background-color: var(--light-gray);
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: var(--white);
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            min-width: 200px;
            margin-top: 5px;
            z-index: 1000;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 14px;
            border-bottom: 1px solid var(--light-gray);
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background-color: var(--light-gray);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.7);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--white);
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            position: relative;
            animation: modalSlideIn 0.3s;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            left: 15px;
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #999;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary-red);
        }

        .modal-text {
            font-size: 16px;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        /* Close button for pages */
        .page-close {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: var(--white);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            z-index: 10001;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .auth-container {
                grid-template-columns: 1fr;
            }

            .auth-brand {
                display: none;
            }

            .dashboard-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .dashboard-content {
                padding: 20px;
            }

            .data-table {
                font-size: 12px;
            }

            .data-table th,
            .data-table td {
                padding: 10px 8px;
            }
            .header-container {
                padding: 15px 20px;
            }

            .nav-menu {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .search-bar {
                display: none;
            }

            .hero {
                height: 400px;
            }

            .hero-title {
                font-size: 36px;
            }

            .hero-subtitle {
                font-size: 18px;
            }

            .container {
                padding: 0 20px;
            }

            .section-title {
                font-size: 28px;
            }

            .categories-grid,
            .collections-grid {
                grid-template-columns: 1fr;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }

            .product-image {
                height: 200px;
            }

            .product-info {
                padding: 15px;
            }

            .newsletter-form {
                flex-direction: column;
            }

            .footer-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Top Banner -->
    <div class="top-banner">
        ğŸ‰ Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ÛŒ 500 Ù‡Ø²Ø§Ø± ØªÙˆÙ…Ø§Ù† ğŸ‰
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="#" class="logo">
                <span class="logo-icon">ğŸ’ƒ</span>
                <span>Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ</span>
            </a>
            
            <nav>
                <ul class="nav-menu">
                    <li><a href="#home">Ø®Ø§Ù†Ù‡</a></li>
                    <li><a href="#women">Ø²Ù†Ø§Ù†Ù‡</a></li>
                    <li><a href="#men">Ù…Ø±Ø¯Ø§Ù†Ù‡</a></li>
                    <li><a href="#kids">Ø¨Ú†Ú¯Ø§Ù†Ù‡</a></li>
                    <li><a href="#about">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a></li>
                    <li><a href="#contact">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a></li>
                </ul>
            </nav>

            <div class="header-actions">
                <div class="search-bar">
                    <input type="text" placeholder="Ø¬Ø³ØªØ¬Ùˆ...">
                    <span>ğŸ”</span>
                </div>
                <div id="authSection">
                    <button class="icon-btn" id="loginBtn" aria-label="User Account">
                        ğŸ‘¤
                    </button>
                </div>
                <button class="icon-btn" onclick="showCart()" aria-label="Shopping Cart">
                    ğŸ›’
                    <span class="cart-badge" id="cartCount">0</span>
                </button>
            </div>

            <button class="mobile-menu-btn" aria-label="Menu">
                â˜°
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <img src="https://pplx-res.cloudinary.com/image/upload/v1763113784/search_images/66b90ceb74fcf0efd766ae29a7cf25cdc86a3a46.jpg" alt="Spanish Fashion" class="hero-bg">
        <div class="hero-content">
            <h1 class="hero-title">Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² Ù…Ø¯ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§</h1>
            <p class="hero-subtitle">Ú©ÛŒÙÛŒØª Ø¹Ø§Ù„ÛŒØŒ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨</p>
            <a href="#products" class="btn-primary">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</a>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="container">
            <h2 class="section-title">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ</h2>
            <p class="section-subtitle">
                Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ù„Ø¨Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² ÙØ±Ù‡Ù†Ú¯ Ùˆ Ù…Ø¯ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ Ø§Ø³Øª. Ù…Ø§ Ø¨Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù…Ø­ØµÙˆÙ„Ø§ØªÛŒ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¹Ø§Ù„ÛŒ Ùˆ Ø·Ø±Ø§Ø­ÛŒâ€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ¨Ø§ØŒ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ Ù…ØªÙØ§ÙˆØª Ø§Ø² Ø®Ø±ÛŒØ¯ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…. Ø§Ø² Ø·Ø±Ø§Ø­ÛŒâ€ŒÙ‡Ø§ÛŒ ÙÙ„Ø§Ù…Ù†Ú©Ùˆ Ú¯Ø±ÙØªÙ‡ ØªØ§ Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø¯ÛŒØªØ±Ø§Ù†Ù‡â€ŒØ§ÛŒØŒ ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ùˆ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.
            </p>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories-section">
        <div class="container">
            <h2 class="section-title">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª</h2>
            <div class="categories-grid">
                <div class="category-card" id="women">
                    <img src="https://pplx-res.cloudinary.com/image/upload/v1763113781/search_images/24ada57203177dde08e4c1dae9718aad246e962d.jpg" alt="Women's Clothing" class="category-bg">
                    <div class="category-content">
                        <div class="category-icon">ğŸ‘—</div>
                        <h3 class="category-title">Ù„Ø¨Ø§Ø³ Ø²Ù†Ø§Ù†Ù‡</h3>
                        <p class="category-description">Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ù…ØªÙ†ÙˆØ¹ Ù„Ø¨Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø§Ù†Ù‡ Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² Ù…Ø¯ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§</p>
                    </div>
                </div>
                <div class="category-card" id="men">
                    <img src="https://pplx-res.cloudinary.com/image/upload/v1763113781/search_images/eb0a227b9ea1f5c77d7a71818a7ee56eae7d1a6e.jpg" alt="Men's Clothing" class="category-bg">
                    <div class="category-content">
                        <div class="category-icon">ğŸ‘”</div>
                        <h3 class="category-title">Ù„Ø¨Ø§Ø³ Ù…Ø±Ø¯Ø§Ù†Ù‡</h3>
                        <p class="category-description">Ù¾ÛŒØ±Ø§Ù‡Ù†ØŒ Ø´Ù„ÙˆØ§Ø± Ùˆ Ù„Ø¨Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¨Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ</p>
                    </div>
                </div>
                <div class="category-card" id="kids">
                    <img src="https://pplx-res.cloudinary.com/image/upload/v1763113781/search_images/cf89e4f09812b0a2772150747b8ae40de3b3a8e5.jpg" alt="Kids' Clothing" class="category-bg">
                    <div class="category-content">
                        <div class="category-icon">ğŸ‘¶</div>
                        <h3 class="category-title">Ù„Ø¨Ø§Ø³ Ø¨Ú†Ú¯Ø§Ù†Ù‡</h3>
                        <p class="category-description">Ù¾ÙˆØ´Ø§Ú© Ø´ÛŒÚ© Ùˆ Ø±Ø§Ø­Øª Ø¨Ø±Ø§ÛŒ Ú©ÙˆØ¯Ú©Ø§Ù†</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section" id="products">
        <div class="container">
            <h2 class="section-title">Ù…Ø­ØµÙˆÙ„Ø§Øª ÙˆÛŒÚ˜Ù‡</h2>
            <div class="products-grid" id="productsGrid"></div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <h2 class="section-title">Ú†Ø±Ø§ Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒØŸ</h2>
            <div class="features-grid">
                <div class="feature-box">
                    <div class="feature-icon">ğŸšš</div>
                    <h3 class="feature-title">Ø§Ø±Ø³Ø§Ù„ Ø³Ø±ÛŒØ¹ Ùˆ Ø±Ø§ÛŒÚ¯Ø§Ù†</h3>
                    <p class="feature-description">Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ÛŒ 500 Ù‡Ø²Ø§Ø± ØªÙˆÙ…Ø§Ù†</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">âœ“</div>
                    <h3 class="feature-title">Ø¶Ù…Ø§Ù†Øª Ø¨Ø§Ø²Ú¯Ø´Øª ÙˆØ¬Ù‡</h3>
                    <p class="feature-description">Ø§Ù…Ú©Ø§Ù† Ø¨Ø§Ø²Ú¯Ø´Øª Ú©Ø§Ù„Ø§ ØªØ§ 72 Ø³Ø§Ø¹Øª Ù¾Ø³ Ø§Ø² Ø®Ø±ÛŒØ¯</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">â­</div>
                    <h3 class="feature-title">Ú©ÛŒÙÛŒØª Ø¹Ø§Ù„ÛŒ</h3>
                    <p class="feature-description">ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ú©ÛŒÙÛŒØª Ùˆ Ø¬Ù†Ø³ Ø¯Ø±Ø¬Ù‡ ÛŒÚ©</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">ğŸ¨</div>
                    <h3 class="feature-title">Ø·Ø±Ø§Ø­ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯</h3>
                    <p class="feature-description">Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² Ù…Ø¯ Ùˆ ÙØ±Ù‡Ù†Ú¯ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Collections Section -->
    <section class="collections-section">
        <div class="container">
            <h2 class="section-title">Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡</h2>
            <div class="collections-grid">
                <div class="collection-card" style="background: linear-gradient(135deg, #C41E3A, #8B0000);">
                    <h3 class="collection-title">Ù…Ø¬Ù…ÙˆØ¹Ù‡ ÙÙ„Ø§Ù…Ù†Ú©Ùˆ</h3>
                </div>
                <div class="collection-card" style="background: linear-gradient(135deg, #E07A5F, #D2691E);">
                    <h3 class="collection-title">Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø¯ÛŒØªØ±Ø§Ù†Ù‡â€ŒØ§ÛŒ</h3>
                </div>
                <div class="collection-card" style="background: linear-gradient(135deg, #FFD700, #FFA500);">
                    <h3 class="collection-title">Ú©Ú˜ÙˆØ§Ù„ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
        <div class="container">
            <div class="newsletter-content">
                <h2 class="newsletter-title">Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ø®Ø¨Ø±Ù†Ø§Ù…Ù‡</h2>
                <p class="newsletter-description">Ø§Ø² Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ùˆ ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ Ø¨Ø§Ø®Ø¨Ø± Ø´ÙˆÛŒØ¯</p>
                <form class="newsletter-form" onsubmit="return handleNewsletter(event)">
                    <input type="email" class="newsletter-input" placeholder="Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" required>
                    <button type="submit" class="btn-newsletter">Ø¹Ø¶ÙˆÛŒØª</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3>Ø¯Ø±Ø¨Ø§Ø±Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</h3>
                    <p>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§ÛŒÙ†ØªØ±Ù†ØªÛŒ Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ù„Ø¨Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² ÙØ±Ù‡Ù†Ú¯ Ùˆ Ù…Ø¯ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ Ø§Ø³Øª.</p>
                    <div class="social-icons">
                        <a href="#" class="social-icon" target="_blank" aria-label="Instagram">ğŸ“·</a>
                        <a href="#" class="social-icon" target="_blank" aria-label="Telegram">âœˆï¸</a>
                        <a href="#" class="social-icon" target="_blank" aria-label="WhatsApp">ğŸ’¬</a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª</h3>
                    <ul>
                        <li><a href="#women">Ù„Ø¨Ø§Ø³ Ø²Ù†Ø§Ù†Ù‡</a></li>
                        <li><a href="#men">Ù„Ø¨Ø§Ø³ Ù…Ø±Ø¯Ø§Ù†Ù‡</a></li>
                        <li><a href="#kids">Ù„Ø¨Ø§Ø³ Ø¨Ú†Ú¯Ø§Ù†Ù‡</a></li>
                        <li><a href="#products">Ù…Ø­ØµÙˆÙ„Ø§Øª ÙˆÛŒÚ˜Ù‡</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Ø®Ø¯Ù…Ø§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†</h3>
                    <ul>
                        <li><a href="#">Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø®Ø±ÛŒØ¯</a></li>
                        <li><a href="#">Ø³ÛŒØ§Ø³Øª Ø¨Ø§Ø²Ú¯Ø´Øª Ú©Ø§Ù„Ø§</a></li>
                        <li><a href="#">Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</a></li>
                        <li><a href="#">Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h3>
                    <ul>
                        <li>ğŸ“ Ø¢Ø¯Ø±Ø³: Ù…Ø§Ø¯Ø±ÛŒØ¯ØŒ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§</li>
                        <li>ğŸ“ ØªÙ„ÙÙ†: Û°Û¹Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹</li>
                        <li>âœ‰ï¸ Ø§ÛŒÙ…ÛŒÙ„: info@spanishstyle.ir</li>
                        <li>ğŸ• Ø³Ø§Ø¹Øª Ú©Ø§Ø±ÛŒ: 9 ØµØ¨Ø­ ØªØ§ 9 Ø´Ø¨</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2025 Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ. ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
                <div class="admin-link">
                    <a href="#" onclick="showAdminLogin(); return false;">ğŸ” ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <h3 class="modal-title">âœ“ Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯</h3>
            <p class="modal-text" id="modalText">Ù…Ø­ØµÙˆÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.</p>
        </div>
    </div>

    <script>
        // Products Data
        const products = [
            { name: "Ù¾ÛŒØ±Ø§Ù‡Ù† ÙÙ„Ø§Ù…Ù†Ú©Ùˆ", nameEn: "Flamenco Dress", price: "890,000", category: "Ø²Ù†Ø§Ù†Ù‡", color: "#C41E3A" },
            { name: "Ø´ÙˆÙ…ÛŒØ² Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ", nameEn: "Spanish Blouse", price: "450,000", category: "Ø²Ù†Ø§Ù†Ù‡", color: "#FFD700" },
            { name: "Ø´Ù„ÙˆØ§Ø± Ø¬ÛŒÙ† Ù…Ø§Ø¯Ø±ÛŒØ¯", nameEn: "Madrid Jeans", price: "670,000", category: "Ø²Ù†Ø§Ù†Ù‡", color: "#1a1a1a" },
            { name: "ØªÛŒ Ø´Ø±Øª Ø¨Ø§Ø±Ø³Ù„ÙˆÙ†Ø§", nameEn: "Barcelona T-shirt", price: "320,000", category: "Ù…Ø±Ø¯Ø§Ù†Ù‡", color: "#E07A5F" },
            { name: "Ø¯Ø§Ù…Ù† Ø³ÙˆÛŒÙ„", nameEn: "Seville Skirt", price: "550,000", category: "Ø²Ù†Ø§Ù†Ù‡", color: "#8B0000" },
            { name: "Ù¾ÛŒØ±Ø§Ù‡Ù† Ù…Ø±Ø¯Ø§Ù†Ù‡ ÙˆØ§Ù„Ù†Ø³ÛŒØ§", nameEn: "Valencia Men's Shirt", price: "480,000", category: "Ù…Ø±Ø¯Ø§Ù†Ù‡", color: "#F5F5DC" },
            { name: "Ø³Øª Ø±Ø§Ø­ØªÛŒ Ú©ÙˆØ¯Ú©", nameEn: "Kids Casual Set", price: "380,000", category: "Ø¨Ú†Ú¯Ø§Ù†Ù‡", color: "#FF6B6B" },
            { name: "Ø¨Ù„ÙˆØ² Ø¢Ù†Ø¯Ù„Ø³", nameEn: "Andalusia Blouse", price: "420,000", category: "Ø²Ù†Ø§Ù†Ù‡", color: "#FFB347" },
            { name: "Ù¾ÛŒØ±Ø§Ù‡Ù† Ø·Ø±Ø­ Ú¯Ù„ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ", nameEn: "Spanish Floral Dress", price: "720,000", category: "Ø²Ù†Ø§Ù†Ù‡", color: "#DC143C", badge: "ØªØ®ÙÛŒÙ ÙˆÛŒÚ˜Ù‡" },
            { name: "Ú©Øª Ù…Ø±Ø¯Ø§Ù†Ù‡ Ù…Ø§Ù„Ø§Ú¯Ø§", nameEn: "Malaga Men's Jacket", price: "950,000", category: "Ù…Ø±Ø¯Ø§Ù†Ù‡", color: "#2F4F4F" },
            { name: "Ø´Ù„ÙˆØ§Ø±Ú© Ù¾Ø³Ø±Ø§Ù†Ù‡", nameEn: "Boys Shorts", price: "290,000", category: "Ø¨Ú†Ú¯Ø§Ù†Ù‡", color: "#4169E1" },
            { name: "Ù…Ø§Ù†ØªÙˆ Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ", nameEn: "Spanish Style Manteau", price: "680,000", category: "Ø²Ù†Ø§Ù†Ù‡", color: "#8B4513" }
        ];

        // Shopping Cart State
        let cart = [];
        let cartCount = 0;
        
        // Sample purchase for testing
        const samplePurchase = {
            order_id: 'ORD-20250914-00001',
            customer_id: 1,
            customer_name: 'Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ',
            customer_email: 'test@example.com',
            order_date: '1403/06/23',
            items: [
                { product_name: 'Ù¾ÛŒØ±Ø§Ù‡Ù† ÙÙ„Ø§Ù…Ù†Ú©Ùˆ', quantity: 1, price: 890000 },
                { product_name: 'Ø´Ù„ÙˆØ§Ø± Ø¬ÛŒÙ† Ù…Ø§Ø¯Ø±ÛŒØ¯', quantity: 1, price: 670000 }
            ],
            total_amount: 1560000,
            status: 'confirmed',
            receipt_uploaded: true,
            receipt_url: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="100" viewBox="0 0 200 100"%3E%3Crect fill="%23f5f5f5" width="200" height="100"/%3E%3Ctext x="50%25" y="50%25" font-family="Arial" font-size="14" fill="%23666" text-anchor="middle" dominant-baseline="middle"%3E[Ø±Ø³ÛŒØ¯ Ù†Ù…ÙˆÙ†Ù‡]%3C/text%3E%3C/svg%3E',
            admin_approval_date: '1403/06/24',
            admin_notes: 'Ø±Ø³ÛŒØ¯ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯'
        };

        // Render Products
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map((product, index) => `
                <div class="product-card" onclick="quickView(${index})">
                    <div class="product-image">
                        <div class="product-img-placeholder" style="background-color: ${product.color}">
                            ${product.category === 'Ø²Ù†Ø§Ù†Ù‡' ? 'ğŸ‘—' : product.category === 'Ù…Ø±Ø¯Ø§Ù†Ù‡' ? 'ğŸ‘”' : 'ğŸ‘¶'}
                        </div>
                        ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-name-en">${product.nameEn}</p>
                        <p class="product-price">${product.price} <span>ØªÙˆÙ…Ø§Ù†</span></p>
                        <button class="btn-add-cart" onclick="addToCart(event, ${index})">Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</button>
                    </div>
                </div>
            `).join('');
        }

        // Add to Cart
        function addToCart(event, index) {
            event.stopPropagation();
            const product = products[index];
            
            // Check if product already in cart
            const existingItem = cart.find(item => item.product_id === index);
            
            if (existingItem) {
                existingItem.quantity++;
                existingItem.total_price = existingItem.quantity * existingItem.price_per_unit;
            } else {
                cart.push({
                    product_id: index,
                    product_name: product.name,
                    quantity: 1,
                    price_per_unit: parseInt(product.price.replace(/,/g, '')),
                    total_price: parseInt(product.price.replace(/,/g, '')),
                    color: product.color
                });
            }
            
            updateCartCount();
            showModal(`Ù…Ø­ØµÙˆÙ„ "${product.name}" Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`);
        }
        
        function updateCartCount() {
            cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;
        }

        // Quick View
        function quickView(index) {
            const product = products[index];
            showModal(`
                <strong>${product.name}</strong><br>
                ${product.nameEn}<br><br>
                Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ: ${product.category}<br>
                Ù‚ÛŒÙ…Øª: ${product.price} ØªÙˆÙ…Ø§Ù†<br><br>
                Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø¨Ø§ Ø§Ù„Ù‡Ø§Ù… Ø§Ø² Ù…Ø¯ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.
            `);
        }

        // Modal Functions
        function showModal(text) {
            document.getElementById('modalText').innerHTML = text;
            document.getElementById('successModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('successModal').classList.remove('active');
        }

        // Newsletter Form
        function handleNewsletter(event) {
            event.preventDefault();
            showModal('Ø§Ø² Ø¹Ø¶ÙˆÛŒØª Ø´Ù…Ø§ Ø¯Ø± Ø®Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø³Ù¾Ø§Ø³Ú¯Ø²Ø§Ø±ÛŒÙ…! Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø®Ø¨Ø§Ø± Ùˆ ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ø®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø±Ø¯.');
            event.target.reset();
            return false;
        }

        // Close modal on outside click
        document.getElementById('successModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Application State
        const appState = {
            currentUser: null,
            currentAdmin: null,
            users: [
                { id: 1, name: 'Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ', email: 'test@example.com', phone: '09123456789', password: 'test123456', registerDate: '1403/08/01' },
                { id: 2, name: 'ÙØ§Ø·Ù…Ù‡ Ù…Ø­Ù…Ø¯ÛŒ', email: 'fatema@example.com', phone: '09198765432', password: 'pass123456', registerDate: '1403/08/10' },
                { id: 3, name: 'Ù…Ø­Ù…Ø¯ Ø±Ø¶Ø§ÛŒÛŒ', email: 'mohammad@example.com', phone: '09109876543', password: 'pass123456', registerDate: '1403/08/20' }
            ],
            orders: [],
            purchases: [],
            addresses: [
                { id: 1, userId: 1, name: 'Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ', address: 'ØªÙ‡Ø±Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† Ø´Ø±ÛŒÙØŒ Ù¾Ù„Ø§Ú© 50', postalCode: '1234567890', city: 'ØªÙ‡Ø±Ø§Ù†', phone: '09123456789' }
            ],
            adminStats: {
                totalUsers: 245,
                totalOrders: 1203,
                totalRevenue: '45,600,000',
                totalProducts: 48
            }
        };

        // Update Auth Section
        function updateAuthSection() {
            const authSection = document.getElementById('authSection');
            if (appState.currentUser) {
                authSection.innerHTML = `
                    <div class="user-dropdown">
                        <button class="user-btn" onclick="toggleDropdown()">
                            <span class="user-name">${appState.currentUser.name}</span>
                            <span>ğŸ‘¤</span>
                        </button>
                        <div class="dropdown-menu" id="userDropdown">
                            <div class="dropdown-item" onclick="showCustomerDashboard()">Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†</div>
                            <div class="dropdown-item" onclick="showCustomerDashboard('orders')">Ø³ÙØ§Ø±Ø´Ø§Øª</div>
                            <div class="dropdown-item" onclick="logout()">Ø®Ø±ÙˆØ¬</div>
                        </div>
                    </div>
                `;
            } else if (appState.currentAdmin) {
                authSection.innerHTML = `
                    <div class="user-dropdown">
                        <button class="user-btn" onclick="toggleDropdown()">
                            <span class="user-name">Ù…Ø¯ÛŒØ±</span>
                            <span>ğŸ”</span>
                        </button>
                        <div class="dropdown-menu" id="userDropdown">
                            <div class="dropdown-item" onclick="showAdminDashboard()">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</div>
                            <div class="dropdown-item" onclick="logout()">Ø®Ø±ÙˆØ¬</div>
                        </div>
                    </div>
                `;
            } else {
                authSection.innerHTML = `
                    <button class="icon-btn" id="loginBtn" onclick="showLogin()" aria-label="User Account">
                        ğŸ‘¤
                    </button>
                `;
            }
        }

        function toggleDropdown() {
            document.getElementById('userDropdown').classList.toggle('show');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.user-dropdown')) {
                const dropdown = document.getElementById('userDropdown');
                if (dropdown) dropdown.classList.remove('show');
            }
        });

        // Show Login Page
        function showLogin() {
            const loginPage = document.createElement('div');
            loginPage.className = 'page-container active';
            loginPage.id = 'loginPage';
            loginPage.innerHTML = `
                <button class="page-close" onclick="closePage('loginPage')">Ã—</button>
                <div class="auth-page">
                    <div class="auth-container">
                        <div class="auth-brand">
                            <div class="auth-brand-logo">ğŸ’ƒ</div>
                            <h2 class="auth-brand-title">Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ</h2>
                            <p class="auth-brand-subtitle">Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² Ù…Ø¯ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§</p>
                        </div>
                        <div class="auth-form-container">
                            <h2 class="auth-title">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h2>
                            <p class="auth-subtitle">Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</p>
                            <div class="error-message" id="loginError"></div>
                            <form onsubmit="return handleLogin(event)">
                                <div class="form-group">
                                    <label class="form-label">Ø§ÛŒÙ…ÛŒÙ„</label>
                                    <input type="email" class="form-input" id="loginEmail" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                                    <input type="password" class="form-input" id="loginPassword" required>
                                </div>
                                <div class="form-checkbox">
                                    <input type="checkbox" id="rememberMe">
                                    <label for="rememberMe">Ù…Ø±Ø§ Ø¨Ù‡ Ø®Ø§Ø·Ø± Ø¨Ø³Ù¾Ø§Ø±</label>
                                </div>
                                <button type="submit" class="btn-auth">ÙˆØ±ÙˆØ¯</button>
                            </form>
                            <div class="auth-links">
                                <p>Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŸ <a href="#" onclick="showRegister(); return false;">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(loginPage);
        }

        // Show Register Page
        function showRegister() {
            closePage('loginPage');
            const registerPage = document.createElement('div');
            registerPage.className = 'page-container active';
            registerPage.id = 'registerPage';
            registerPage.innerHTML = `
                <button class="page-close" onclick="closePage('registerPage')">Ã—</button>
                <div class="auth-page">
                    <div class="auth-container">
                        <div class="auth-brand">
                            <div class="auth-brand-logo">ğŸ’ƒ</div>
                            <h2 class="auth-brand-title">Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ</h2>
                            <p class="auth-brand-subtitle">Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² Ù…Ø¯ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§</p>
                        </div>
                        <div class="auth-form-container">
                            <h2 class="auth-title">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± ÙØ±ÙˆØ´Ú¯Ø§Ù‡</h2>
                            <p class="auth-subtitle">Ø¹Ø¶Ùˆ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ Ø¨Ø²Ø±Ú¯ Ù…Ø§ Ø´ÙˆÛŒØ¯</p>
                            <div class="error-message" id="registerError"></div>
                            <div class="success-message" id="registerSuccess"></div>
                            <form onsubmit="return handleRegister(event)">
                                <div class="form-group">
                                    <label class="form-label">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                                    <input type="text" class="form-input" id="registerName" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ø§ÛŒÙ…ÛŒÙ„</label>
                                    <input type="email" class="form-input" id="registerEmail" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label>
                                    <input type="tel" class="form-input" id="registerPhone" placeholder="09XXXXXXXXX" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                                    <input type="password" class="form-input" id="registerPassword" oninput="checkPasswordStrength()" required>
                                    <div class="password-strength">
                                        <div class="password-strength-bar" id="strengthBar"></div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                                    <input type="password" class="form-input" id="registerPasswordConfirm" required>
                                </div>
                                <div class="form-checkbox">
                                    <input type="checkbox" id="acceptTerms" required>
                                    <label for="acceptTerms">Ù‚Ø¨ÙˆÙ„ Ø´Ø±Ø§ÛŒØ· Ùˆ Ø¶ÙˆØ§Ø¨Ø·</label>
                                </div>
                                <button type="submit" class="btn-auth">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>
                            </form>
                            <div class="auth-links">
                                <p>Ù‚Ø¨Ù„Ø§Ù‹ Ø¹Ø¶Ùˆ Ù‡Ø³ØªÛŒØ¯ØŸ <a href="#" onclick="showLogin(); return false;">ÙˆØ±ÙˆØ¯ Ú©Ù†ÛŒØ¯</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(registerPage);
        }

        // Show Admin Login
        function showAdminLogin() {
            const adminLoginPage = document.createElement('div');
            adminLoginPage.className = 'page-container active';
            adminLoginPage.id = 'adminLoginPage';
            adminLoginPage.innerHTML = `
                <button class="page-close" onclick="closePage('adminLoginPage')">Ã—</button>
                <div class="auth-page">
                    <div class="auth-container">
                        <div class="auth-brand">
                            <div class="auth-brand-logo">ğŸ”</div>
                            <h2 class="auth-brand-title">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
                            <p class="auth-brand-subtitle">Ø³Ø¨Ú© Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ</p>
                        </div>
                        <div class="auth-form-container">
                            <h2 class="auth-title">ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</h2>
                            <p class="auth-subtitle">Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´Ú¯Ø§Ù‡</p>
                            <div class="error-message" id="adminLoginError"></div>
                            <form onsubmit="return handleAdminLogin(event)">
                                <div class="form-group">
                                    <label class="form-label">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</label>
                                    <input type="text" class="form-input" id="adminUsername" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                                    <input type="password" class="form-input" id="adminPassword" required>
                                </div>
                                <button type="submit" class="btn-auth">ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</button>
                            </form>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(adminLoginPage);
        }

        // Handle Login
        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = appState.users.find(u => u.email === email && u.password === password);
            
            if (user) {
                appState.currentUser = user;
                updateAuthSection();
                closePage('loginPage');
                showCustomerDashboard();
            } else {
                const errorMsg = document.getElementById('loginError');
                errorMsg.textContent = 'Ø§ÛŒÙ…ÛŒÙ„ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª.';
                errorMsg.style.display = 'block';
            }
            return false;
        }

        // Handle Register
        function handleRegister(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const passwordConfirm = document.getElementById('registerPasswordConfirm').value;
            
            // Validation
            const errorMsg = document.getElementById('registerError');
            
            if (!phone.match(/^09\d{9}$/)) {
                errorMsg.textContent = 'Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø¨Ø§ÛŒØ¯ Ø¨Ø§ 09 Ø´Ø±ÙˆØ¹ Ø´Ø¯Ù‡ Ùˆ 11 Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯.';
                errorMsg.style.display = 'block';
                return false;
            }
            
            if (password.length < 8) {
                errorMsg.textContent = 'Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 8 Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.';
                errorMsg.style.display = 'block';
                return false;
            }
            
            if (password !== passwordConfirm) {
                errorMsg.textContent = 'Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ùˆ ØªÚ©Ø±Ø§Ø± Ø¢Ù† Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ù†Ø¯.';
                errorMsg.style.display = 'block';
                return false;
            }
            
            if (appState.users.find(u => u.email === email)) {
                errorMsg.textContent = 'Ø§ÛŒÙ† Ø§ÛŒÙ…ÛŒÙ„ Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øª Ø´Ø¯Ù‡ Ø§Ø³Øª.';
                errorMsg.style.display = 'block';
                return false;
            }
            
            // Add user
            const newUser = {
                id: appState.users.length + 1,
                name,
                email,
                phone,
                password,
                registerDate: '1403/09/15'
            };
            appState.users.push(newUser);
            
            // Show success
            errorMsg.style.display = 'none';
            const successMsg = document.getElementById('registerSuccess');
            successMsg.textContent = 'Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯! Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯...';
            successMsg.style.display = 'block';
            
            setTimeout(() => {
                closePage('registerPage');
                showLogin();
            }, 2000);
            
            return false;
        }

        // Handle Admin Login
        function handleAdminLogin(event) {
            event.preventDefault();
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            if (username === 'admin' && password === 'admin123') {
                appState.currentAdmin = { username: 'admin' };
                updateAuthSection();
                closePage('adminLoginPage');
                showAdminDashboard();
            } else {
                const errorMsg = document.getElementById('adminLoginError');
                errorMsg.textContent = 'Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª.';
                errorMsg.style.display = 'block';
            }
            return false;
        }

        // Password Strength
        function checkPasswordStrength() {
            const password = document.getElementById('registerPassword').value;
            const strengthBar = document.getElementById('strengthBar');
            
            if (password.length < 8) {
                strengthBar.className = 'password-strength-bar strength-weak';
            } else if (password.length < 12) {
                strengthBar.className = 'password-strength-bar strength-medium';
            } else {
                strengthBar.className = 'password-strength-bar strength-strong';
            }
        }

        // Shopping Cart Page
        function showCart() {
            const cartPage = document.createElement('div');
            cartPage.className = 'page-container active';
            cartPage.id = 'cartPage';
            
            let cartHTML = '';
            let subtotal = 0;
            
            if (cart.length === 0) {
                cartHTML = '<div style="text-align: center; padding: 60px 20px; color: #666;"><p style="font-size: 24px; margin-bottom: 20px;">ğŸ›’</p><p style="font-size: 18px;">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª</p></div>';
            } else {
                cartHTML = `
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Ù…Ø­ØµÙˆÙ„</th>
                                    <th>Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯</th>
                                    <th>ØªØ¹Ø¯Ø§Ø¯</th>
                                    <th>Ù‚ÛŒÙ…Øª Ú©Ù„</th>
                                    <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${cart.map((item, idx) => {
                                    subtotal += item.total_price;
                                    return `
                                        <tr>
                                            <td>
                                                <div style="display: flex; align-items: center; gap: 12px;">
                                                    <div style="width: 50px; height: 50px; background-color: ${item.color}; border-radius: 8px;"></div>
                                                    <span>${item.product_name}</span>
                                                </div>
                                            </td>
                                            <td>${item.price_per_unit.toLocaleString()} ØªÙˆÙ…Ø§Ù†</td>
                                            <td>
                                                <div style="display: flex; align-items: center; gap: 10px;">
                                                    <button class="btn-action" style="background: #f44336; color: white; padding: 5px 10px;" onclick="updateCartQuantity(${idx}, -1)">-</button>
                                                    <span style="min-width: 30px; text-align: center;">${item.quantity}</span>
                                                    <button class="btn-action" style="background: #4caf50; color: white; padding: 5px 10px;" onclick="updateCartQuantity(${idx}, 1)">+</button>
                                                </div>
                                            </td>
                                            <td>${item.total_price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</td>
                                            <td>
                                                <button class="btn-action btn-delete" onclick="removeFromCart(${idx})">Ø­Ø°Ù Ø§Ø² Ø³Ø¨Ø¯</button>
                                            </td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    </div>
                    <div class="info-card" style="margin-top: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; font-size: 20px; font-weight: 700;">
                            <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
                            <span style="color: var(--primary-red);">${subtotal.toLocaleString()} ØªÙˆÙ…Ø§Ù†</span>
                        </div>
                    </div>
                    <div style="display: flex; gap: 15px; margin-top: 20px;">
                        <button class="btn-primary" style="flex: 1; padding: 15px;" onclick="closePage('cartPage')">Ø§Ø¯Ø§Ù…Ù‡ Ø®Ø±ÛŒØ¯</button>
                        <button class="btn-auth" style="flex: 1; padding: 15px;" onclick="proceedToCheckout()">Ø§Ø¯Ø§Ù…Ù‡ ÙØ±Ø§ÛŒÙ†Ø¯ Ø®Ø±ÛŒØ¯</button>
                    </div>
                `;
            }
            
            cartPage.innerHTML = `
                <button class="page-close" onclick="closePage('cartPage')">Ã—</button>
                <div class="dashboard">
                    <div class="dashboard-header">
                        <div class="dashboard-welcome">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</div>
                    </div>
                    <div class="dashboard-content">
                        ${cartHTML}
                    </div>
                </div>
            `;
            document.body.appendChild(cartPage);
        }
        
        function updateCartQuantity(index, change) {
            cart[index].quantity += change;
            if (cart[index].quantity <= 0) {
                cart.splice(index, 1);
            } else {
                cart[index].total_price = cart[index].quantity * cart[index].price_per_unit;
            }
            updateCartCount();
            closePage('cartPage');
            showCart();
        }
        
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartCount();
            closePage('cartPage');
            showCart();
        }
        
        function proceedToCheckout() {
            if (!appState.currentUser) {
                closePage('cartPage');
                showModal('Ø¨Ø±Ø§ÛŒ ØªÚ©Ù…ÛŒÙ„ Ø®Ø±ÛŒØ¯ Ø§Ø¨ØªØ¯Ø§ ÙˆØ§Ø±Ø¯ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø´ÙˆÛŒØ¯');
                setTimeout(() => {
                    closeModal();
                    showLogin();
                }, 2000);
                return;
            }
            closePage('cartPage');
            showCheckout();
        }
        
        // Checkout Page
        function showCheckout() {
            if (!appState.currentUser) {
                showModal('Ø¨Ø±Ø§ÛŒ ØªÚ©Ù…ÛŒÙ„ Ø®Ø±ÛŒØ¯ Ø§Ø¨ØªØ¯Ø§ ÙˆØ§Ø±Ø¯ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø´ÙˆÛŒØ¯');
                return;
            }
            
            if (cart.length === 0) {
                showModal('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª');
                return;
            }
            
            const orderNumber = generateOrderNumber();
            const total = cart.reduce((sum, item) => sum + item.total_price, 0);
            
            const checkoutPage = document.createElement('div');
            checkoutPage.className = 'page-container active';
            checkoutPage.id = 'checkoutPage';
            checkoutPage.innerHTML = `
                <button class="page-close" onclick="closePage('checkoutPage')">Ã—</button>
                <div class="dashboard">
                    <div class="dashboard-header">
                        <div class="dashboard-welcome">ØªÚ©Ù…ÛŒÙ„ Ø®Ø±ÛŒØ¯</div>
                    </div>
                    <div class="dashboard-content">
                        <div class="info-card">
                            <h3>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³ÙØ§Ø±Ø´</h3>
                            <div class="info-row">
                                <div class="info-label">Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´:</div>
                                <div class="info-value" id="orderNumber">${orderNumber}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Ù†Ø§Ù… Ù…Ø´ØªØ±ÛŒ:</div>
                                <div class="info-value">${appState.currentUser.name}</div>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <h3>Ù…Ø­ØµÙˆÙ„Ø§Øª Ø³ÙØ§Ø±Ø´</h3>
                            ${cart.map(item => `
                                <div class="info-row">
                                    <div class="info-label">${item.product_name}</div>
                                    <div class="info-value">${item.quantity} Ø¹Ø¯Ø¯ Ã— ${item.price_per_unit.toLocaleString()} ØªÙˆÙ…Ø§Ù† = ${item.total_price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>
                                </div>
                            `).join('')}
                            <div class="info-row" style="border-top: 2px solid var(--primary-red); margin-top: 10px; padding-top: 10px;">
                                <div class="info-label" style="font-size: 18px; font-weight: 700;">Ø¬Ù…Ø¹ Ú©Ù„:</div>
                                <div class="info-value" style="font-size: 18px; font-weight: 700; color: var(--primary-red);">${total.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>
                            </div>
                        </div>
                        
                        <div class="info-card" style="background: linear-gradient(135deg, var(--cream), var(--white)); border: 2px solid var(--primary-red);">
                            <h3 style="color: var(--primary-red);">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ</h3>
                            <p style="color: var(--dark-red); font-weight: 600; margin-bottom: 15px;">Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº Ø³ÙØ§Ø±Ø´ Ø±Ø§ Ø¨Ù‡ Ø§ÛŒÙ† Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù†Ú©ÛŒ Ù…Ù†ØªÙ‚Ù„ Ú©Ù†ÛŒØ¯ Ùˆ Ø±Ø³ÛŒØ¯ Ø±Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ù†Ù…Ø§ÛŒÛŒØ¯</p>
                            <div class="info-row">
                                <div class="info-label">Ù†Ø§Ù… ØµØ§Ø­Ø¨ Ø­Ø³Ø§Ø¨:</div>
                                <div class="info-value" style="font-weight: 700;">Ø³ÛŒÙ†Ø§ Ø¨Ø§Ù‚Ø±ÛŒ</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª:</div>
                                <div class="info-value" style="display: flex; align-items: center; gap: 10px;">
                                    <span style="font-family: monospace; font-size: 18px; font-weight: 700; color: var(--primary-red);" id="cardNumber">5859 **** **** 0136</span>
                                    <button class="btn-action btn-view" onclick="copyCardNumber()">Ú©Ù¾ÛŒ</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <h3>Ø¢Ù¾Ù„ÙˆØ¯ Ø±Ø³ÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª</h3>
                            <div style="margin: 20px 0;">
                                <label class="form-label">Ø§Ù†ØªØ®Ø§Ø¨ ÙØ§ÛŒÙ„ Ø±Ø³ÛŒØ¯ (JPG, PNG, PDF - Ø­Ø¯Ø§Ú©Ø«Ø± 5MB)</label>
                                <input type="file" class="form-input" id="receiptFile" accept=".jpg,.jpeg,.png,.pdf" onchange="handleReceiptUpload(event)">
                                <div id="receiptPreview" style="margin-top: 15px; display: none;">
                                    <img id="receiptImage" style="max-width: 100%; max-height: 300px; border-radius: 8px; border: 1px solid var(--border-gray);">
                                    <button class="btn-action btn-delete" style="margin-top: 10px;" onclick="removeReceipt()">Ø­Ø°Ù ÙØ§ÛŒÙ„</button>
                                </div>
                                <div id="receiptError" class="error-message" style="margin-top: 10px;"></div>
                            </div>
                            <div class="form-checkbox" style="margin: 20px 0;">
                                <input type="checkbox" id="acceptTermsCheckout" required>
                                <label for="acceptTermsCheckout">Ù…Ù† Ø´Ø±Ø§ÛŒØ· Ùˆ Ø¶ÙˆØ§Ø¨Ø· Ø±Ø§ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ù…</label>
                            </div>
                            <div style="display: flex; gap: 15px;">
                                <button class="btn-dashboard btn-back" style="flex: 1;" onclick="backToCart()">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø³Ø¨Ø¯</button>
                                <button class="btn-auth" style="flex: 1;" onclick="confirmPurchase()">ØªØ§ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯ Ùˆ Ø¢Ù¾Ù„ÙˆØ¯ Ø±Ø³ÛŒØ¯</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(checkoutPage);
        }
        
        let uploadedReceipt = null;
        
        function handleReceiptUpload(event) {
            const file = event.target.files[0];
            const errorDiv = document.getElementById('receiptError');
            
            if (!file) return;
            
            // Validate file type
            const validTypes = ['image/jpeg', 'image/png', 'application/pdf'];
            if (!validTypes.includes(file.type)) {
                errorDiv.textContent = 'ÙØ±Ù…Øª ÙØ§ÛŒÙ„ Ø¨Ø§ÛŒØ¯ JPGØŒ PNG ÛŒØ§ PDF Ø¨Ø§Ø´Ø¯';
                errorDiv.style.display = 'block';
                event.target.value = '';
                return;
            }
            
            // Validate file size (5MB)
            if (file.size > 5 * 1024 * 1024) {
                errorDiv.textContent = 'Ø­Ø¬Ù… ÙØ§ÛŒÙ„ Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² 5 Ù…Ú¯Ø§Ø¨Ø§ÛŒØª Ø¨Ø§Ø´Ø¯';
                errorDiv.style.display = 'block';
                event.target.value = '';
                return;
            }
            
            errorDiv.style.display = 'none';
            
            // Show preview
            const reader = new FileReader();
            reader.onload = function(e) {
                uploadedReceipt = e.target.result;
                const preview = document.getElementById('receiptPreview');
                const img = document.getElementById('receiptImage');
                
                if (file.type === 'application/pdf') {
                    img.style.display = 'none';
                    preview.innerHTML = '<div style="padding: 20px; background: var(--light-gray); border-radius: 8px; text-align: center;"><p style="font-size: 48px; margin-bottom: 10px;">ğŸ“„</p><p>ÙØ§ÛŒÙ„ PDF Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯</p></div><button class="btn-action btn-delete" style="margin-top: 10px;" onclick="removeReceipt()">Ø­Ø°Ù ÙØ§ÛŒÙ„</button>';
                } else {
                    img.style.display = 'block';
                    img.src = e.target.result;
                }
                preview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        
        function removeReceipt() {
            uploadedReceipt = null;
            document.getElementById('receiptFile').value = '';
            document.getElementById('receiptPreview').style.display = 'none';
        }
        
        function copyCardNumber() {
            const cardNumber = '5859831117480136';
            navigator.clipboard.writeText(cardNumber).then(() => {
                showModal('Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª Ú©Ù¾ÛŒ Ø´Ø¯');
            });
        }
        
        function generateOrderNumber() {
            const date = new Date();
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const random = String(Math.floor(Math.random() * 100000)).padStart(5, '0');
            return `ORD-${year}${month}${day}-${random}`;
        }
        
        function confirmPurchase() {
            if (!uploadedReceipt) {
                showModal('Ù„Ø·ÙØ§Ù‹ Ø±Ø³ÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª Ø±Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            if (!document.getElementById('acceptTermsCheckout').checked) {
                showModal('Ù„Ø·ÙØ§Ù‹ Ø´Ø±Ø§ÛŒØ· Ùˆ Ø¶ÙˆØ§Ø¨Ø· Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±ÛŒØ¯');
                return;
            }
            
            const orderNumber = document.getElementById('orderNumber').textContent;
            const total = cart.reduce((sum, item) => sum + item.total_price, 0);
            const today = new Date();
            const persianDate = `${today.getFullYear() - 621}/${String(today.getMonth() + 1).padStart(2, '0')}/${String(today.getDate()).padStart(2, '0')}`;
            
            const purchase = {
                order_id: orderNumber,
                customer_id: appState.currentUser.id,
                customer_name: appState.currentUser.name,
                customer_email: appState.currentUser.email,
                order_date: persianDate,
                items: [...cart],
                total_amount: total,
                status: 'pending',
                receipt_uploaded: true,
                receipt_url: uploadedReceipt,
                admin_approval_date: null,
                admin_notes: ''
            };
            
            appState.purchases.push(purchase);
            
            // Clear cart
            cart = [];
            updateCartCount();
            uploadedReceipt = null;
            
            closePage('checkoutPage');
            showPurchaseSuccess(orderNumber);
        }
        
        function showPurchaseSuccess(orderNumber) {
            const successPage = document.createElement('div');
            successPage.className = 'page-container active';
            successPage.id = 'purchaseSuccessPage';
            successPage.innerHTML = `
                <button class="page-close" onclick="closePage('purchaseSuccessPage')">Ã—</button>
                <div class="auth-page">
                    <div class="auth-container" style="grid-template-columns: 1fr;">
                        <div class="auth-form-container" style="text-align: center;">
                            <div style="font-size: 72px; margin-bottom: 20px;">âœ“</div>
                            <h2 class="auth-title">Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯</h2>
                            <p class="auth-subtitle" style="font-size: 16px; margin-bottom: 20px;">Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´: ${orderNumber}</p>
                            <div style="background: var(--cream); padding: 20px; border-radius: 12px; margin: 30px 0;">
                                <p style="line-height: 1.8;">Ø±Ø³ÛŒØ¯ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ ØªØ§ÛŒÛŒØ¯ Ø§Ø¯Ù…ÛŒÙ† Ø«Ø¨Øª Ø´Ø¯Ù‡ Ø§Ø³Øª. ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´ Ø±Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø± Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ ØªØ­Øª Ù†Ø¸Ø§Ø±Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯.</p>
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 15px;">
                                <button class="btn-auth" onclick="closePage('purchaseSuccessPage'); showCustomerDashboard('orders');">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†</button>
                                <button class="btn-dashboard btn-back" style="width: 100%;" onclick="closePage('purchaseSuccessPage')">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(successPage);
        }
        
        function backToCart() {
            closePage('checkoutPage');
            showCart();
        }
        
        // Show Customer Dashboard
        function showCustomerDashboard(defaultTab = 'profile') {
            // Add sample purchase for first user
            if (appState.currentUser.id === 1 && appState.purchases.length === 0) {
                appState.purchases.push(samplePurchase);
            }
            
            const userPurchases = appState.purchases.filter(p => p.customer_id === appState.currentUser.id);
            const userAddresses = appState.addresses.filter(a => a.userId === appState.currentUser.id);
            
            const dashboardPage = document.createElement('div');
            dashboardPage.className = 'page-container active';
            dashboardPage.id = 'customerDashboard';
            dashboardPage.innerHTML = `
                <div class="dashboard">
                    <div class="dashboard-header">
                        <div class="dashboard-welcome">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ØŒ ${appState.currentUser.name}</div>
                        <div class="dashboard-actions">
                            <button class="btn-dashboard btn-back" onclick="closePage('customerDashboard')">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</button>
                            <button class="btn-dashboard btn-logout" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                        </div>
                    </div>
                    <div class="dashboard-content">
                        <div class="dashboard-tabs">
                            <button class="tab-btn ${defaultTab === 'profile' ? 'active' : ''}" onclick="switchTab('profile')">Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†</button>
                            <button class="tab-btn ${defaultTab === 'orders' ? 'active' : ''}" onclick="switchTab('orders')">Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†</button>
                            <button class="tab-btn ${defaultTab === 'addresses' ? 'active' : ''}" onclick="switchTab('addresses')">Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„</button>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'profile' ? 'active' : ''}" id="profile">
                            <div class="info-card">
                                <h3>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
                                <div class="info-row">
                                    <div class="info-label">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</div>
                                    <div class="info-value">${appState.currentUser.name}</div>
                                </div>
                                <div class="info-row">
                                    <div class="info-label">Ø§ÛŒÙ…ÛŒÙ„:</div>
                                    <div class="info-value">${appState.currentUser.email}</div>
                                </div>
                                <div class="info-row">
                                    <div class="info-label">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†:</div>
                                    <div class="info-value">${appState.currentUser.phone}</div>
                                </div>
                                <div class="info-row">
                                    <div class="info-label">ØªØ§Ø±ÛŒØ® Ø¹Ø¶ÙˆÛŒØª:</div>
                                    <div class="info-value">${appState.currentUser.registerDate}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'orders' ? 'active' : ''}" id="orders">
                            <div class="table-container">
                                ${userPurchases.length === 0 ? '<p style="padding: 40px; text-align: center; color: #666;">Ù‡Ù†ÙˆØ² Ø³ÙØ§Ø±Ø´ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>' : `
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´</th>
                                            <th>ØªØ§Ø±ÛŒØ®</th>
                                            <th>Ù…Ø¨Ù„Øº</th>
                                            <th>ÙˆØ¶Ø¹ÛŒØª</th>
                                            <th>Ø±Ø³ÛŒØ¯</th>
                                            <th>Ø¬Ø²Ø¦ÛŒØ§Øª</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${userPurchases.map(purchase => {
                                            let statusClass = 'processing';
                                            let statusText = 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯';
                                            let statusColor = 'orange';
                                            
                                            if (purchase.status === 'confirmed') {
                                                statusClass = 'delivered';
                                                statusText = 'ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡';
                                                statusColor = 'green';
                                            } else if (purchase.status === 'shipped') {
                                                statusClass = 'shipped';
                                                statusText = 'Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡';
                                                statusColor = 'blue';
                                            } else if (purchase.status === 'delivered') {
                                                statusClass = 'delivered';
                                                statusText = 'ØªØ­ÙˆÛŒÙ„ Ø´Ø¯Ù‡';
                                                statusColor = 'gray';
                                            } else if (purchase.status === 'rejected') {
                                                statusClass = 'processing';
                                                statusText = 'Ø±Ø¯ Ø´Ø¯Ù‡';
                                                statusColor = 'red';
                                            }
                                            
                                            return `
                                            <tr>
                                                <td>${purchase.order_id}</td>
                                                <td>${purchase.order_date}</td>
                                                <td>${purchase.total_amount.toLocaleString()} ØªÙˆÙ…Ø§Ù†</td>
                                                <td><span class="status-badge status-${statusClass}" style="background-color: rgba(${statusColor === 'orange' ? '255, 152, 0' : statusColor === 'green' ? '76, 175, 80' : statusColor === 'blue' ? '33, 150, 243' : statusColor === 'red' ? '244, 67, 54' : '158, 158, 158'}, 0.15); color: ${statusColor === 'orange' ? '#ff9800' : statusColor === 'green' ? '#4caf50' : statusColor === 'blue' ? '#2196f3' : statusColor === 'red' ? '#f44336' : '#9e9e9e'};">${statusText}</span></td>
                                                <td>${purchase.receipt_uploaded ? '<button class="btn-action btn-view" onclick="viewReceipt(\'' + purchase.order_id + '\')">Ù…Ø´Ø§Ù‡Ø¯Ù‡</button>' : '-'}</td>
                                                <td><button class="btn-action btn-view" onclick="viewOrderDetails(\'' + purchase.order_id + '\')">Ø¬Ø²Ø¦ÛŒØ§Øª</button></td>
                                            </tr>
                                            `;
                                        }).join('')}
                                    </tbody>
                                </table>
                                `}
                            </div>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'addresses' ? 'active' : ''}" id="addresses">
                            <div class="info-card">
                                <h3>Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ø«Ø¨Øª Ø´Ø¯Ù‡</h3>
                                ${userAddresses.map(addr => `
                                    <div class="info-row">
                                        <div class="info-label">${addr.name}</div>
                                        <div class="info-value">
                                            ${addr.address}<br>
                                            Ú©Ø¯ Ù¾Ø³ØªÛŒ: ${addr.postalCode} | Ø´Ù‡Ø±: ${addr.city}<br>
                                            ØªÙ„ÙÙ†: ${addr.phone}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        

                    </div>
                </div>
            `;
            document.body.appendChild(dashboardPage);
        }

        function viewReceipt(orderId) {
            const purchase = appState.purchases.find(p => p.order_id === orderId);
            if (purchase && purchase.receipt_url) {
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.innerHTML = `
                    <div class="modal-content" style="max-width: 800px;">
                        <button class="modal-close" onclick="this.closest('.modal').remove()">Ã—</button>
                        <h3 class="modal-title">Ø±Ø³ÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª - ${orderId}</h3>
                        <div style="text-align: center;">
                            <img src="${purchase.receipt_url}" style="max-width: 100%; max-height: 500px; border-radius: 8px; border: 1px solid var(--border-gray);">
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) modal.remove();
                });
            }
        }
        
        function viewOrderDetails(orderId) {
            const purchase = appState.purchases.find(p => p.order_id === orderId);
            if (!purchase) return;
            
            let statusText = 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯';
            if (purchase.status === 'confirmed') statusText = 'ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡';
            else if (purchase.status === 'shipped') statusText = 'Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡';
            else if (purchase.status === 'delivered') statusText = 'ØªØ­ÙˆÛŒÙ„ Ø´Ø¯Ù‡';
            else if (purchase.status === 'rejected') statusText = 'Ø±Ø¯ Ø´Ø¯Ù‡';
            
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 700px;">
                    <button class="modal-close" onclick="this.closest('.modal').remove()">Ã—</button>
                    <h3 class="modal-title">Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´ ${purchase.order_id}</h3>
                    <div class="modal-text">
                        <div style="margin-bottom: 20px;">
                            <strong>ØªØ§Ø±ÛŒØ® Ø³ÙØ§Ø±Ø´:</strong> ${purchase.order_date}<br>
                            <strong>ÙˆØ¶Ø¹ÛŒØª:</strong> ${statusText}<br>
                            ${purchase.admin_approval_date ? `<strong>ØªØ§Ø±ÛŒØ® ØªØ§ÛŒÛŒØ¯:</strong> ${purchase.admin_approval_date}<br>` : ''}
                        </div>
                        <div style="background: var(--light-gray); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                            <strong>Ù…Ø­ØµÙˆÙ„Ø§Øª:</strong><br>
                            ${purchase.items.map(item => `<div style="margin-top: 10px;">â€¢ ${item.product_name} - ${item.quantity} Ø¹Ø¯Ø¯ Ã— ${item.price_per_unit ? item.price_per_unit.toLocaleString() : item.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>`).join('')}
                        </div>
                        <div style="font-size: 18px; font-weight: 700; text-align: left;">
                            <strong>Ø¬Ù…Ø¹ Ú©Ù„:</strong> ${purchase.total_amount.toLocaleString()} ØªÙˆÙ…Ø§Ù†
                        </div>
                        ${purchase.admin_notes ? `<div style="margin-top: 20px; padding: 15px; background: var(--cream); border-radius: 8px;"><strong>ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø§Ø¯Ù…ÛŒÙ†:</strong><br>${purchase.admin_notes}</div>` : ''}
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) modal.remove();
            });
        }
        
        // Show Admin Dashboard
        function showAdminDashboard(defaultTab = 'dashboard') {
            const dashboardPage = document.createElement('div');
            dashboardPage.className = 'page-container active';
            dashboardPage.id = 'adminDashboard';
            dashboardPage.innerHTML = `
                <div class="dashboard">
                    <div class="dashboard-header">
                        <div class="dashboard-welcome">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ØŒ Ù…Ø¯ÛŒØ±</div>
                        <div class="dashboard-actions">
                            <button class="btn-dashboard btn-back" onclick="closePage('adminDashboard')">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</button>
                            <button class="btn-dashboard btn-logout" onclick="logout()">Ø®Ø±ÙˆØ¬</button>
                        </div>
                    </div>
                    <div class="dashboard-content">
                        <div class="dashboard-tabs">
                            <button class="tab-btn ${defaultTab === 'dashboard' ? 'active' : ''}" onclick="switchTab('dashboard')">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</button>
                            <button class="tab-btn ${defaultTab === 'purchases' ? 'active' : ''}" onclick="switchTab('purchases')">ØªØ§ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯Ù‡Ø§</button>
                            <button class="tab-btn ${defaultTab === 'products' ? 'active' : ''}" onclick="switchTab('products')">Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª</button>
                            <button class="tab-btn ${defaultTab === 'users' ? 'active' : ''}" onclick="switchTab('users')">Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</button>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'dashboard' ? 'active' : ''}" id="dashboard">
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-icon">â³</div>
                                    <div class="stat-value">${appState.purchases.filter(p => p.status === 'pending').length}</div>
                                    <div class="stat-label">Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">âœ“</div>
                                    <div class="stat-value">${appState.purchases.filter(p => p.status === 'confirmed').length}</div>
                                    <div class="stat-label">Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡ Ø§Ù…Ø±ÙˆØ²</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">ğŸ’°</div>
                                    <div class="stat-value">${appState.purchases.filter(p => p.status === 'confirmed').reduce((sum, p) => sum + p.total_amount, 0).toLocaleString()}</div>
                                    <div class="stat-label">Ú©Ù„ Ù…Ø¨Ù„Øº ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡ (ØªÙˆÙ…Ø§Ù†)</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">ğŸ‘¥</div>
                                    <div class="stat-value">${appState.users.length}</div>
                                    <div class="stat-label">Ú©Ù„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</div>
                                </div>
                            </div>
                            <div class="table-container">
                                <h3 style="padding: 20px; margin: 0;">Ø¢Ø®Ø±ÛŒÙ† Ø®Ø±ÛŒØ¯Ù‡Ø§</h3>
                                ${appState.purchases.length === 0 ? '<p style="padding: 40px; text-align: center; color: #666;">Ù‡Ù†ÙˆØ² Ø®Ø±ÛŒØ¯ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>' : `
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´</th>
                                            <th>Ù…Ø´ØªØ±ÛŒ</th>
                                            <th>ØªØ§Ø±ÛŒØ®</th>
                                            <th>Ù…Ø¨Ù„Øº (ØªÙˆÙ…Ø§Ù†)</th>
                                            <th>ÙˆØ¶Ø¹ÛŒØª</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${appState.purchases.slice(0, 5).map(purchase => {
                                            let statusText = 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯';
                                            let statusClass = 'processing';
                                            if (purchase.status === 'confirmed') {
                                                statusText = 'ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡';
                                                statusClass = 'delivered';
                                            }
                                            return `
                                            <tr>
                                                <td>${purchase.order_id}</td>
                                                <td>${purchase.customer_name}</td>
                                                <td>${purchase.order_date}</td>
                                                <td>${purchase.total_amount.toLocaleString()}</td>
                                                <td><span class="status-badge status-${statusClass}">${statusText}</span></td>
                                            </tr>
                                            `;
                                        }).join('')}
                                    </tbody>
                                </table>
                                `}
                            </div>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'purchases' ? 'active' : ''}" id="purchases">
                            <div class="table-container">
                                <h3 style="padding: 20px; margin: 0;">ØªØ§ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯Ù‡Ø§ Ùˆ Ø±Ø³ÛŒØ¯Ù‡Ø§</h3>
                                ${appState.purchases.filter(p => p.status === 'pending').length === 0 ? '<p style="padding: 40px; text-align: center; color: #666;">Ø®Ø±ÛŒØ¯ÛŒ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯ Ù†ÛŒØ³Øª</p>' : `
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´</th>
                                            <th>Ù†Ø§Ù… Ù…Ø´ØªØ±ÛŒ</th>
                                            <th>Ù…Ø¨Ù„Øº</th>
                                            <th>ØªØ§Ø±ÛŒØ®</th>
                                            <th>Ø±Ø³ÛŒØ¯</th>
                                            <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${appState.purchases.filter(p => p.status === 'pending').map(purchase => `
                                            <tr>
                                                <td>${purchase.order_id}</td>
                                                <td>${purchase.customer_name}</td>
                                                <td>${purchase.total_amount.toLocaleString()} ØªÙˆÙ…Ø§Ù†</td>
                                                <td>${purchase.order_date}</td>
                                                <td><button class="btn-action btn-view" onclick="viewReceipt('${purchase.order_id}')">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±Ø³ÛŒØ¯</button></td>
                                                <td>
                                                    <button class="btn-action btn-view" onclick="showPurchaseDetails('${purchase.order_id}')">Ø¬Ø²Ø¦ÛŒØ§Øª</button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                                `}
                            </div>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'products' ? 'active' : ''}" id="products">
                            <div class="table-container">
                                <h3 style="padding: 20px; margin: 0; display: flex; justify-content: space-between; align-items: center;">
                                    <span>Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª</span>
                                    <button class="btn-action btn-view" onclick="showModal('Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯')">+ Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„</button>
                                </h3>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th>
                                            <th>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</th>
                                            <th>Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)</th>
                                            <th>Ù…ÙˆØ¬ÙˆØ¯ÛŒ</th>
                                            <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${products.slice(0, 8).map(product => `
                                            <tr>
                                                <td>${product.name}</td>
                                                <td>${product.category}</td>
                                                <td>${product.price}</td>
                                                <td>Ù…ÙˆØ¬ÙˆØ¯</td>
                                                <td>
                                                    <button class="btn-action btn-edit" onclick="showModal('ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„')">ÙˆÛŒØ±Ø§ÛŒØ´</button>
                                                    <button class="btn-action btn-delete" onclick="showModal('Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„')">Ø­Ø°Ù</button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'all-purchases' ? 'active' : ''}" id="all-purchases">
                            <div class="table-container">
                                <h3 style="padding: 20px; margin: 0;">Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª</h3>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´</th>
                                            <th>Ù…Ø´ØªØ±ÛŒ</th>
                                            <th>ØªØ§Ø±ÛŒØ®</th>
                                            <th>Ù…Ø¨Ù„Øº (ØªÙˆÙ…Ø§Ù†)</th>
                                            <th>ÙˆØ¶Ø¹ÛŒØª</th>
                                            <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${appState.orders.map(order => `
                                            <tr>
                                                <td>#${order.id}</td>
                                                <td>${order.customer}</td>
                                                <td>${order.date}</td>
                                                <td>${order.total}</td>
                                                <td><span class="status-badge status-${order.status === 'ØªØ­ÙˆÛŒÙ„ Ø´Ø¯Ù‡' ? 'delivered' : order.status === 'Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡' ? 'shipped' : 'processing'}">${order.status}</span></td>
                                                <td>
                                                    <button class="btn-action btn-view" onclick="showModal('Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´ #${order.id}')">Ø¬Ø²Ø¦ÛŒØ§Øª</button>
                                                    <button class="btn-action btn-edit" onclick="showModal('ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª')">ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª</button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'users' ? 'active' : ''}" id="users">
                            <div class="table-container">
                                <h3 style="padding: 20px; margin: 0;">Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h3>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Ø´Ù…Ø§Ø±Ù‡</th>
                                            <th>Ù†Ø§Ù…</th>
                                            <th>Ø§ÛŒÙ…ÛŒÙ„</th>
                                            <th>ØªÙ„ÙÙ†</th>
                                            <th>ØªØ§Ø±ÛŒØ® Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</th>
                                            <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${appState.users.map(user => `
                                            <tr>
                                                <td>${user.id}</td>
                                                <td>${user.name}</td>
                                                <td>${user.email}</td>
                                                <td>${user.phone}</td>
                                                <td>${user.registerDate}</td>
                                                <td>
                                                    <button class="btn-action btn-view" onclick="showModal('Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ø§Ø±Ø¨Ø±')">Ù…Ø´Ø§Ù‡Ø¯Ù‡</button>
                                                    <button class="btn-action btn-delete" onclick="showModal('Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±')">Ø­Ø°Ù</button>
                                                </td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="tab-content ${defaultTab === 'xxx-reports' ? 'active' : ''}" id="xxx-reports">
                            <div class="info-card">
                                <h3>Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´</h3>
                                <div style="text-align: center; padding: 40px; color: #666;">
                                    <p style="font-size: 18px; margin-bottom: 20px;">ğŸ“Š</p>
                                    <p>Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ØªÙØµÛŒÙ„ÛŒ ÙØ±ÙˆØ´ØŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù¾Ø±ÙØ±ÙˆØ´ Ùˆ Ø±ÙˆÙ†Ø¯ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(dashboardPage);
        }

        function showPurchaseDetails(orderId) {
            const purchase = appState.purchases.find(p => p.order_id === orderId);
            if (!purchase) return;
            
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 800px;">
                    <button class="modal-close" onclick="this.closest('.modal').remove()">Ã—</button>
                    <h3 class="modal-title">Ø¬Ø²Ø¦ÛŒØ§Øª Ø®Ø±ÛŒØ¯ - ${purchase.order_id}</h3>
                    <div class="modal-text">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                            <div>
                                <strong>Ù…Ø´ØªØ±ÛŒ:</strong> ${purchase.customer_name}<br>
                                <strong>Ø§ÛŒÙ…ÛŒÙ„:</strong> ${purchase.customer_email}<br>
                                <strong>ØªØ§Ø±ÛŒØ®:</strong> ${purchase.order_date}
                            </div>
                            <div>
                                <strong>Ù…Ø¨Ù„Øº Ú©Ù„:</strong> ${purchase.total_amount.toLocaleString()} ØªÙˆÙ…Ø§Ù†<br>
                                <strong>ØªØ¹Ø¯Ø§Ø¯ Ø§Ù‚Ù„Ø§Ù…:</strong> ${purchase.items.length}
                            </div>
                        </div>
                        <div style="background: var(--light-gray); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                            <strong>Ù…Ø­ØµÙˆÙ„Ø§Øª:</strong><br>
                            ${purchase.items.map(item => `<div style="margin-top: 10px;">â€¢ ${item.product_name} - ${item.quantity} Ø¹Ø¯Ø¯ Ã— ${item.price_per_unit ? item.price_per_unit.toLocaleString() : item.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>`).join('')}
                        </div>
                        ${purchase.receipt_url ? `
                            <div style="text-align: center; margin-bottom: 20px;">
                                <img src="${purchase.receipt_url}" style="max-width: 100%; max-height: 300px; border-radius: 8px; border: 1px solid var(--border-gray);">
                            </div>
                        ` : ''}
                        <div>
                            <label class="form-label">ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø§Ø¯Ù…ÛŒÙ† (Ø§Ø®ØªÛŒØ§Ø±ÛŒ):</label>
                            <textarea class="form-input" id="adminNotes_${purchase.order_id}" rows="3" placeholder="ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...">${purchase.admin_notes || ''}</textarea>
                        </div>
                        <div style="display: flex; gap: 15px; margin-top: 20px;">
                            <button class="btn-action btn-view" style="flex: 1;" onclick="approvePurchase('${purchase.order_id}')">ØªØ§ÛŒÛŒØ¯ Ùˆ ØªØµØ¯ÛŒÙ‚ Ø®Ø±ÛŒØ¯</button>
                            <button class="btn-action btn-delete" style="flex: 1;" onclick="rejectPurchase('${purchase.order_id}')">Ø±Ø¯ Ø®Ø±ÛŒØ¯</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) modal.remove();
            });
        }
        
        function approvePurchase(orderId) {
            const purchase = appState.purchases.find(p => p.order_id === orderId);
            if (!purchase) return;
            
            const notesField = document.getElementById('adminNotes_' + orderId);
            purchase.status = 'confirmed';
            purchase.admin_approval_date = new Date().toLocaleDateString('fa-IR');
            purchase.admin_notes = notesField ? notesField.value : '';
            
            // Close modal
            document.querySelectorAll('.modal').forEach(m => m.remove());
            
            showModal('Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØ§ÛŒÛŒØ¯ Ø´Ø¯');
            
            // Refresh admin dashboard
            setTimeout(() => {
                closeModal();
                closePage('adminDashboard');
                showAdminDashboard('purchases');
            }, 1500);
        }
        
        function rejectPurchase(orderId) {
            const reason = prompt('Ù„Ø·ÙØ§Ù‹ Ø¯Ù„ÛŒÙ„ Ø±Ø¯ Ø®Ø±ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:');
            if (!reason) return;
            
            const purchase = appState.purchases.find(p => p.order_id === orderId);
            if (!purchase) return;
            
            purchase.status = 'rejected';
            purchase.admin_notes = 'Ø±Ø¯ Ø´Ø¯Ù‡: ' + reason;
            
            // Close modal
            document.querySelectorAll('.modal').forEach(m => m.remove());
            
            showModal('Ø®Ø±ÛŒØ¯ Ø±Ø¯ Ø´Ø¯');
            
            // Refresh admin dashboard
            setTimeout(() => {
                closeModal();
                closePage('adminDashboard');
                showAdminDashboard('purchases');
            }, 1500);
        }
        
        // Switch Tab
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab-btn');
            const contents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // Logout
        function logout() {
            appState.currentUser = null;
            appState.currentAdmin = null;
            updateAuthSection();
            closePage('customerDashboard');
            closePage('adminDashboard');
        }

        // Close Page
        function closePage(pageId) {
            const page = document.getElementById(pageId);
            if (page) {
                page.remove();
            }
        }

        // Initialize
        renderProducts();
        updateAuthSection();
    </script>
</body>
</html>